<div *ngIf="album" class="album-details">
  <div class="album-header">
    <div class="album-info">
      <img [src]="album.images[0]?.url" alt="{{ album.name }}" />
      <div class="album-data">
        <h2>{{ album.name }}</h2>
        <span>{{ album.release_date }}</span>
        <p>
          Artista:
          <a [routerLink]="['/artist', album.artists[0]?.id]">{{
            album.artists[0].name
          }}</a>
        </p>
      </div>
    </div>
    <!-- Agregar el bot칩n Crear Rese침a -->
    <div class="botones">
      <button (click)="addToFavorites()" >游밼</button>
      <button (click)="openReviewComponent()">Crear Rese침a</button>
    </div>
  </div>

  <div class="track-list">
    <ul>
      <li *ngFor="let track of album.tracks.items">
        <div class="track-item">
          <span> {{ track.track_number }} - {{ track.name }} </span>
          <!-- Mostrar un preview si est치 disponible -->
          <div *ngIf="track.preview_url">
            <audio controls [src]="track.preview_url"></audio>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <!-- Contenedor de superposici칩n para la rese침a -->
  <div *ngIf="showReviewComponent" class="overlay">
    <app-create-review
      [selectedAlbum]="album"

      (close)="closeReviewComponent()"
      (reviewCreated)="onReviewCreated($event)"
    ></app-create-review>
  </div>

  <!-- Mostrar las rese침as debajo de los detalles del 치lbum -->
  <div *ngIf="reviews.length > 0" class="reviews-section">
    <h3>Rese침as publicadas</h3>
    <div *ngFor="let review of reviews" class="review">
      <p><strong>츼lbum:</strong> {{ review.albumName }}</p>
      <p><strong>Artista:</strong> {{ review.artistName }}</p>
      <p><strong>Rese침a:</strong> {{ review.reviewText }}</p>
      <p>
        <strong>Calificaci칩n:</strong>&nbsp;
        <span *ngFor="let star of [1, 2, 3, 4, 5]">
          <i
            class="fa"
            [ngClass]="star <= review.rating ? 'fa fa-star' : 'fa fa-star-o'"
          ></i>
        </span>
      </p>
    </div>
  </div>

  <div *ngIf="reviews.length === 0" class="no-reviews">
    No hay rese침as publicadas.
  </div>
</div>
